---
title: "R Notebook"
output: html_notebook
---

```{r}
BreadBasketData <- read.csv("https://raw.githubusercontent.com/reisanar/datasets/master/BreadBasket.csv")
```


```{r}
library(dplyr)
library(tidyverse)
library(arules)
```

Lucy's Work:
I'd like to see if there is a day (M, T, W, R, F, S, S) where more transactions took place and if more transactions were in the morning, afternoon, or evenings.

```{r}
#filter data into three categories: morning, afternoon, evening

MorningData <- BreadBasketData %>% 
                filter(Time <= 10:59:59)   #before 11am

AfternoonData <- BreadBasketData %>% 
                  #filter(Time > 10:59:59 && Time <= 15:59:59)   #11 to 4pm
                  #filter(time, Time("11:00:00":"15:59:59"))

EveningData <- BreadBasketData %>% 
                filter(Time > 16:00:00)   #after 4pm
```


Where to start:
-Summarize the data using any of the tools and concepts discussed so far. For example, you may need to aggregate the data (using filter(), group_by(), and summarize() from the dplyr package). Contact your instructor as soon as possible if you run into trouble formatting the data and performing any data wrangling steps.
-Create summaries, comparisons, and any other type of quantitative analysis using the tools learned in class.
-Briefly describe the methodology you decide to use and explain your choice of descriptive/predictive/prescriptive analytics methods. For example, you may decide to explore clustering methods, association rules, anomaly detection algorithms, topic modeling approaches, sentiment analysis, and/or other data mining and text mining methodologies.
-You should include some data visualizations and enough documentation of the code you develop, noting that a small set of high quality visualizations will receive a much higher grade than a large number of poor quality visualizations.

Chris' Work:

```{r}
#get rid of every column except the transaction and the items
breadbasketmain <- BreadBasketData %>%
  select(Transaction, Item)

#check that it worked
breadbasketmain

#convert new set to transaction
bb_tr <- as(split(breadbasketmain[ ,"Item"], breadbasketmain[ ,"Transaction"]), "transactions")
inspect(bb_tr)

#create item frequency plot of the top 6 items
IF_bb = rev(tail(sort(itemFrequency(bb_tr)), 6))
barplot(IF_bb, las=2, cex.names=0.8)
```


Wyatt's Work:
Created these two tables to show what are start and end time are, to better determine the Morning, Afternoon, and Evening data tables.
```{r}
# top end for time spectrum
BreadBasketData %>%
  arrange(Time) %>%
  head(20)
```

```{r}
# bottom end for time spectrum
BreadBasketData %>%
  arrange(Time) %>%
  tail(20)
```

   Lucy's work FIXED
```{r}
#filter data into three categories: morning, afternoon, evening
MorningData <- BreadBasketData %>% 
                filter(Time >= "01:21:05" & Time <= "10:59:59")   #before 11am

AfternoonData <- BreadBasketData %>% 
                  filter(Time >= "10:59:59" & Time <= "15:59:59")   #11 to 4pm

EveningData <- BreadBasketData %>% 
                filter(Time >= "16:00:00" & Time <= "22:15:55")   #after 4pm
```

```{r}
BreadBasketData
summary(BreadBasketData)
```

Check to make sure the three time tables work

-Morning-
```{r}
MorningData %>%
  arrange(Time) %>%
  head(10)
  
MorningData %>%
  arrange(Time) %>%
  tail(10)
 ```
-Afternoon-
```{r}
AfternoonData %>%
 arrange(Time) %>%
 head(10)

AfternoonData %>%
 arrange(Time) %>%
 tail(10)
```
 
-Evening-
```{r}
EveningData %>%
 arrange(Time) %>%
 head(10)
 
EveningData %>%
 arrange(Time) %>%
 tail(10)
```

-Item Frequency Tables for Time Frames-
-Morning-
```{r}
#get rid of every column except the transaction and the items
breadbasketmorning <- MorningData %>%
  select(Transaction, Item)
#check that it worked
breadbasketmorning
#convert new set to transaction
bbm_tr <- as(split(breadbasketmorning[ ,"Item"], breadbasketmorning[ ,"Transaction"]), "transactions")
inspect(bbm_tr)
#create item frequency plot of the top 6 items
IF_bbm = rev(tail(sort(itemFrequency(bbm_tr)), 6))
barplot(IF_bbm, las=2, cex.names=0.8)
```

-Afternoon-
```{r}
#get rid of every column except the transaction and the items
breadbasketafternoon <- AfternoonData %>%
  select(Transaction, Item)
#check that it worked
breadbasketafternoon
#convert new set to transaction
bba_tr <- as(split(breadbasketafternoon[ ,"Item"], breadbasketafternoon[ ,"Transaction"]), "transactions")
inspect(bba_tr)
#create item frequency plot of the top 6 items
IF_bba = rev(tail(sort(itemFrequency(bba_tr)), 6))
barplot(IF_bba, las=2, cex.names=0.8)
```

-Evening
```{r}
#get rid of every column except the transaction and the items
breadbasketevening <- EveningData %>%
  select(Transaction, Item)
#check that it worked
breadbasketevening
#convert new set to transaction
bbe_tr <- as(split(breadbasketevening[ ,"Item"], breadbasketevening[ ,"Transaction"]), "transactions")
inspect(bbe_tr)
#create item frequency plot of the top 6 items
IF_bbe = rev(tail(sort(itemFrequency(bbe_tr)), 6))
barplot(IF_bbe, las=2, cex.names=0.8)
```
